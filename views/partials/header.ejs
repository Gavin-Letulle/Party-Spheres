<!DOCTYPE html>
<html>
  <head>
    <title>Party Spheres</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lacquer&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=DynaPuff:wght@400..700&display=swap" rel="stylesheet">
    <link rel="icon" href="/images/ps1.png" type="image/x-icon">
    <link rel="icon" href="/images/ps1.png" type="image/png">
    <link rel="icon" href="/images/ps1.png" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/images/ps1.png">
  </head>
  <header class="heading">
    <a href="/" style="text-decoration: none; color: inherit; display: flex; align-items: center;">
        <div class="heading-img" id="ps2"><img src="/images/ps2.png" alt="PS2"></div>
        <span style="cursor: pointer;">PARTY&nbsp;&nbsp;&nbsp;SPHERES</span>
        <div class="heading-img" id="ps1"><img src="/images/ps1.png" alt="PS1"></div>
    </a>
  </header>
  <% 
 if (typeof showLoginPopup !== 'undefined' && showLoginPopup) { %>
    <script>
      //block before makes certain that if true and this only occur once every other check is true
      window.addEventListener('DOMContentLoaded', () => {
        //determines if logged in server side if not able to show not logged popup
        const isLoggedIn = "<%= loggedIn ? 'true' : 'false' %>";
        const username = "<%= username || '' %>";
  //logged in status
        const message = isLoggedIn === "true"
          ? ` Logged in as ${username}!`
          : "You are not logged in.";
  //stuff to have popup style
        const popup = document.createElement('div');
        popup.textContent = message;
        popup.style.position = 'fixed';
        popup.style.bottom = '20px';
        popup.style.right = '20px';
        popup.style.background = isLoggedIn === "true" ? '#73ff8f' : '#f57979';
        popup.style.color = 'black';
        popup.style.padding = '12px 18px';
        popup.style.border = '2px solid black';
        popup.style.borderRadius = '8px';
        popup.style.boxShadow = '0 4px 10px rgba(0,0,0,0.2)';
        popup.style.zIndex = 1000;
        popup.style.fontWeight = 'bold';
  
        document.body.appendChild(popup);
  //4 secs 
        setTimeout(() => {
          popup.remove();
        }, 4000);
      });
    </script>
  <% } %>


  

  <header>
    <div class="link-row">
      <div class="link-item">
        <a href="/" class="<%= currentPage === 'home' ? 'active' : '' %>">Home</a>
      </div>
      <div class="link-item">
        <a href="/leaderboard" class="<%= currentPage === 'leaderboard' ? 'active' : '' %>">Leaderboard</a>
      </div>
      <div class="link-item">
        <a href="/characters" class="<%= currentPage === 'characters' ? 'active' : '' %>">Characters</a>
      </div>
      <div class="link-item">
        <a href="/players" class="<%= currentPage === 'players' ? 'active' : '' %>">Players</a>
      </div>
      <div class="link-item">
        <a href="/myAccount" class="<%= currentPage === 'account' ? 'active' : '' %>">Account</a>
      </div>
    </div>
  </header>
  <body>
    <main class = "content">